A. 讨论一下可以发现，nim必须为0，最大数和最小数必须相等。那就意味着如果数组里出现非-1的数字必须全部相等且不为0。

B. 在第一次建完墙之后就会选择是往左走还是往右走，然后选择的这个方向所有空位都会建墙。所以枚举判断就好。

C. 选择位置i和j之后，把(a[i],b[i]),(b[i],b[j])看成两条线段(l1,r1)和(l2,r2)，调整的人必然会让两条线段相交。因此如果要最小，先检查起始的线段中有没有本来就相交的，如果有就反复选择这一对ij，没有就排序之后选一对相邻相交最少的。

D. 首先看出如果把degree大于1的点找出来，那么必然是这些点在河两岸交替排列。因此这些点必须连成链。然后链的端点有4种放法(河的两岸/同一岸边的左边还是右边)。放好之后，degree为1的点位置固定但是互相之间会有排列，比如有x个就是x!种方法。
