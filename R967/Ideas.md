A. 不管怎么操作，最后一定可以保留某一种的全部。

B. 找规律。奇数才有解偶数没有。奇数就是1放中间，然后剩下的从2到n左右来回放。

***C. 是一棵树的话就可以假定1个根。以1为根的话，对每个节点i从查询(1,i)开始，每次逼近i直到找出i的父亲。***

D. 首先必然是所有数都出现一次。先把所有数的最后出现位置找出来，假设是[l,r]。所有l之前的数维护一个大根堆一个小根堆，每次从两个堆里面取数，然后把这个数从出现位置和大根堆小根堆中删除，然后根据更新的[l,r]维护两个堆。
