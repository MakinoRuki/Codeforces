C. 每个非问号最后的结果要么离开，要么指向环，要么指向问号，后两者都可以是环。而问号周围只要有无法离开的非问号或者有问号，那么都可以是不能离开。所以从能离开的非问号开始bfs。

D. 从后往前看一个一个换到应该是的数字，如果1）一个位置需要是2，而当前位置是1，那么就直接换，而如果当前位置是0，需要用1来中转，换两次，而后面1和0可能还要换一次，这样3个位置总共最多换3次；2）当前位置需要是1，而当前位置是0，那么直接换。
