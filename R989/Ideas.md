C. 每个非问号最后的结果要么离开，要么指向环，要么指向问号，后两者都可以是环。而问号周围只要有无法离开的非问号或者有问号，那么都可以是不能离开。所以从能离开的非问号开始bfs。

D. 从后往前看一个一个换到应该是的数字，如果1）一个位置需要是2，而当前位置是1，那么就直接换，而如果当前位置是0，需要用1来中转，换两次，而后面1和0可能还要换一次，这样3个位置总共最多换3次；2）当前位置需要是1，而当前位置是0，那么直接换。

E. 当k是偶数的时候可以直接把每个位置相加都等于n+1的两个排列配对；而当k是奇数时则可以先用3个凑出一个可以的，然后转化成偶数的情况。那么这3个排列每位上的和就应该是n(n+1)/2\*3/n，设这3个当中其中一个是[1,...,n]的一个排列，那么求出另外两个对应位置上的和之后可以凑出，第二个对应位置可以是[n,n/2,n-1,n/2-1,n-2,...,1,(n+1)/2]，而第三个对应位置是[(n+1)/2,n,(n+1)/2-1,n-1,...,(n+1)/2+1,1]。那么对于奇数的情况就先把这3个排列加进来，然后枚举排列，只要保证枚举的排列P和它的对应配对排列P'不出现在这3个当中即可。特别注意！！k=1或者k=(n!)-1也都是无解的，因为k=(n!)刚好每个位置和都是n(n+1)/2，那么去掉一个排列之后每个位置上的和不可能相等了。
