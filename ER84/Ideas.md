A. 注意(n-k)/2不能小于k*(k-1)/2。

B. 先看是否所有人都结婚了，否则找一个没人要的王子，安排给一个还没娶的公主。

C. 搞特殊。所有人先全部挤到一个格子里，是n*m步；然后这一个格子里的人用n*m步把每一个格子都走一遍。

D. p^k的意义是，在一个循环节里面连跳k步。这样就会把一个循环节拆成长度为m/gcd(k,m)的gcd(k,m)个小的循环节。检查每一个循环节是否全同色即可。这一步是O(m)。

   然后因为我们只关心gcd(k,m)的最小k，所以只有m的因子才有意义。枚举m的因子再O(n)来check。

E. 直接计数。
