B. 必然是某个位置去产生b[n+1]。结果就是把abs(a[i]-b[i])替换成max(a[i],b[i],b[n+1])-min(a[i],b[i],b[n+1])。

C. 预处理出对于每个位置i，如果i之前程序员没来它对程序员值和测试值的贡献，以及测试员没来它对程序员值和测试值的贡献；然后再看每个位置，知道他想当程序员还是想当测试员之后，找出它前后两侧的程序员值和测试员值。

D. 枚举区间左端点l，得出合理的r要满足前缀和s[r]=s[l-1],而且[l,r]的max{s[i]}要满足2\*s[l-1]>=max{s[i]}。因此把s相同的位置找出来，对两个这样的位置i和j，查询区间max找出对每个i符合条件的j。
