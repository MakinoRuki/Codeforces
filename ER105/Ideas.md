C. 观察出一个结论，一堆一起移动的箱子，最后一个一定是卡在特殊点上的，否则可以往前移动以cover之前更多的特殊点。

   因此可以枚举一起移动的最后一个特殊点在哪里，然后看它前面有多少个box，二分出能cover多少特殊点；再看它后面多少个卡特殊点的box。
   
D. 一定是从LCA的权重较小的pair看起，逐渐类似并查集地去merge出新的非叶节点来。找集合父亲只要暴力，因为n<=500。
