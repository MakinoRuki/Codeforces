A. 枚举subsegment的l和r。

B. 看特殊case，一个字母一个字母地看，一个字母一个字母地删。如果字母x在后面也出现过，就删掉。

C. 贪心。把得到的size存到map里，从小到大拿出来，没出现过就切开。

D. 如果设root=1是1份，那么每个其他顶点是a/b，就可以求1 + sum{a[i]/b[i]}。然后乘上b[i]的lcm。

   因此dfs时维护一个素因子表，每次经过一个节点最多改变5-6个因子，因此直接暴力。
   
