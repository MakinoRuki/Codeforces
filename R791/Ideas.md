C. 用map维护每一行每一列被cover了多少次，然后bit维护被cover着的行和列。每个矩形里必须行全cover或者列全cover。

D. 二分允许的路径上最大权值，然后看能否有环；没有环就看最长路径是否大于k。
