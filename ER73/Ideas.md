A. 从大到小维护个数。

B. 黑白间隔着放最优。

C. 二分。

D. 非常tricky的观察：每个位置最多+2次。所以水dp。
