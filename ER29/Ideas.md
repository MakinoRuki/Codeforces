C. 总共3\*3种状态，找出环然后看是几倍环。

D. 从后往前看最终的每个下标，逆序看一堆操作后对应到最开始的哪个下标。

E. 每个[l,r]->[l,r+1]，然后先区间端点离散化，找出每一段的覆盖次数。

   然后对于一条线段query出所cover的所有区间最少出现次数，线段树维护。
