C. 要看i和a[i]这两个位置是否联通，并查集。

E. bfs。但是应该是用链表把还没bfs到的点存起来，然后扩展的时候遍历这个list，这样会比遍历某个点的补图邻接表快很多。

F. 因为一个位置从10^6变到2以下不会超过6次。

   因此要么用线段树直接维护区间和和区间最大值；要么用bit维护区间和，并查集维护那些位置还没有到2。
   
G. 二分+容斥原理。
