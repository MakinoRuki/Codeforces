B. 可以推出必须连通分量里的点都是全联通。

C. 直接贪心。每个位置i是yes的话就找个没出现过的填过来，否则就把i-k+1的字母填过来。

D. 能不能求出任意两点间距离和再除以k呢，不能。因为每条路径长度模k会有余数。但是因为k<=5所以可以统计出每个mod有多少条然后算出来。

   统计的方法就是树形dp。
