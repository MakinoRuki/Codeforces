B. 第n个数必为+，第n-1个必为-，因此让a[n-1]减去前面所有，再让a[n]去减这个结果。

C. 每次query一个位置是0/1，假如现在query出来的结果是s，那么下一个在s后加0/1，如果都不对，说明已经到了结尾，这样就在s前开始加0/1。

***D. 最终结果应该是单增的且尽量平均。这种题一般是二分，但直接二分delta并不可行，因此可以直接二分max再二分min。因为最优max和最优min是不矛盾的，可以同时达到。***

***E. 最多log(max(a[i]))次就会变成1了。因此贪心从最小的a[i]开始放，然后每次找使得gcd(prefix, a[i])最小的i。因为在变为1之前要减小就不会重复选，因此也不需要vis数组。变为1之后就结束。***
