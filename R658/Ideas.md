B. 从后往前dp。

C(C1,C2). 因为又是翻转前缀，那么从后往前看每个i，如果a[0]跟b[i]相等就先把a[0]变成跟b[i]不想等，然后[1,i]翻转；否则直接[1,i]翻转。
          
          这样的话，对于C2大数据来说，只需要维护翻转的时候a[0]是什么就可以了。稍微一观察可以发现它是在逐渐缩近a的两个端点[l,r]，每次的新的a[0]就是在a[l]和a[r]当中取得。
          
D. 可以发现在把s=merge(a,b)分给a和b的时候，假设刚把s[i]分给一个a/b，那么接下来比这个s[i]小的必须跟s[i]归到一起去。

   因此我们可以把这个s先以s[1]为起点求一个LIS，然后这个LIS中的每个位置k往后，跟k+1之间的数字组成了一个segment。所有这些segment可以自由组合，那么可以背包出是否可以组出n。
