B. 如果分成三段分别是abc，那么g|a,g|b必然得到g|(a+b)，也就是只要分成2段求gcd即可。

C. 不断减去2的幂。如果减去2^i时1的个数减少那么原数包含2^i，否则可以根据增加的1的个数推出原数最低位的1在哪一位。

F. 容斥思想，先找出min和max不互素的三元组数量。枚举公因子d，找出d的倍数，统计出方案数f[d]，然后容斥减掉所有的f[md]。再用总方案减掉不互素的。
