B. 如果两段区间[l,r]和[L,R]有重合的话，要把重合部分两两之间都lock起来。

C. 排序之后肯定是A那最大，B拿次大，A拿第三大，B拿第四大，以此类推。那么就看两两之间的delta的和跟k的关系。

D. 对于任意两个city，x和y，因为总共的组合数不多，那么它们要么有共同的颜色可以直达，要么就是AB和CD的形式，但这时其他任意一个组合都必然跟x和y包含同一种颜色，可以连接它们。假设x<y，那么就在其它的组合的下标里面二分第一个大于x的和第一个小于y的，然后看通过它们中转的最优解。

***E. 就是标准nim游戏。每个数的结果XOR起来。预处理出SG值。可以打表找规律发现如果x是偶数那么SG[x]=0,如果x是奇合数那么SG[x]=SG[p]其中p是x最小素因子，x是素数那么SG[x]=id其中id是x是第几个素数。证明的话，对于奇合数的情况，如果SG[x]=SG[p]那么p必然整除x。否则必然可以去掉x-p然后取到SG[p]，那么SG[x]的mex就不会等于SG[p]。而如果p不是素数，必然可以进一步分解到更小的素因子的结果，因此就是x的最小的素因子pmn的结果。而比pmn更小的素数p'，必然可以通过去掉x-p'取到，因此SG[x]不可能等于SG[p']。***
