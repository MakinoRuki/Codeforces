B. 如果两段区间[l,r]和[L,R]有重合的话，要把重合部分两两之间都lock起来。

C. 排序之后肯定是A那最大，B拿次大，A拿第三大，B拿第四大，以此类推。那么就看两两之间的delta的和跟k的关系。

D. 对于任意两个city，x和y，因为总共的组合数不多，那么它们要么有共同的颜色可以直达，要么就是AB和CD的形式，但这时其他任意一个组合都必然跟x和y包含同一种颜色，可以连接它们。假设x<y，那么就在其它的组合的下标里面二分第一个大于x的和第一个小于y的，然后看通过它们中转的最优解。
