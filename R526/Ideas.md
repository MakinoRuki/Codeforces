A. 明显树形dp。但是从u点出发的不好算，到u点终结的好算。因此dp出以每个点u为终点的path的最大值。先自底向上，再从顶向下。

B. 其实直接就是dp出每个长度为i的合法前缀方案数，如果>k则直接取k(这个k其实就相当于mod了)。dp[i,j1,j2]表示到第i个位置，是否可以小于s，是否可以大于t的方案数。


