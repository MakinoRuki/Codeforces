C. 贪心。从前到后能放左括号就放左括号，否则放右括号。然后check前缀是否valid。

D. 有点意思的。从底向上dp，求出f[u]表示以u为根的子树最后剩下的数字是在这棵子树里面排第几。

   然后对于节点u，如果是min则取sum{f[v]-1}+1;如果是max，则取max{n-(son[v]-f[v])}。
