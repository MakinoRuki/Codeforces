C. 二分答案。

E. 前缀乘积模m的结果序列是P，构造的序列是A，那么(P[i-1]\*A[i])%m=P[i]，也就是说gcd(P[i-1],m)|P[i]，等价于gcd(P[i-1],m)|gcd(P[i],m)。

   按照gcd合并点然后连边，求P序列的最长路之后用扩展欧几里得求出A序列。
