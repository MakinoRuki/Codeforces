C. 对于棋子来说走的距离相同的格子会凑成一个圈，因此先问到(1,1)的距离找出两条边界线；然后问到边界线交点的距离找出在哪条线上；最后一次确定。

D. 树上dfs，用set存出每个节点各个儿子的信息。
