B. 一定有一段连续的1不动。枚举。

C. 从最大值开始。

D. 只要a[i]不全相同就有解。从1到n，每个a[i]跟一个尚未联通的不相同的a[j]连边即可。

E. ans=C(n,n/2)*(n/2-1)!/2。

F. 预处理出每行的选k1个mod k = k2的最大sum。然后按行dp。

G. 最短路。
