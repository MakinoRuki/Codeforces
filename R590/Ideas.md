C. 答案是确定的！每个格子只有一个选择，模拟就行。
D. BIT
E. f(n=1)的结果可求，之后每个f(n)跟f(1)的关系可以O(1)算出来。主要看相邻的pair里，有多少个在i左侧，多少个在i右侧，多少个跨在i的两侧。
   而这个存在单调性，因此把相邻的pair排序，用个set维护一下右端点扫一遍。
