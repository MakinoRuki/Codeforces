B. 列式子发现是0的个数最好是n-1。

C. 分类讨论一下发现，只要有连续2个以上的1，那么在中间放一个or，然后对方在旁边放一个and，自己就可以保另一边的or。但单个1也有可能，只要它在两端。

D. 最终s一定是一些"R...RL...L"的结构组成，每一段[l,r]对应的数列中的数字也应该是[l,r]才可以。所以把数组中x和idx[x]连线，组成一些线段，再求交。每一段"R...RL...L"必须完全覆盖完整的整数段求交之后的数字线段。也就是在L->R变化的位置必须是求交之后数字线段的分段处。set维护这些位置。
