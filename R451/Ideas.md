D. sliding window。

E. 非平方数->平方数，选择(sqrt(x))^2或者(sqrt(x)+1)^2当中比较接近的；平方数->非平方数，如果非0，选择+1，如果是0，选择+2。
