B. 要看a是不是所有可能排列里次数最少的，只要看是否存在一个位置，两侧最大值都比它大。

C. 从大到小贪心选择，对于i要选一个x满足i+x为完全平方数。因为这个平方根不会超过sqrt(2\*n)所以枚举即可。

D. 先考察4个人的时候，比赛次数3次，但其实只需要2次query就知道谁能赢，也就是2/3比赛次数。

   得到启发就是4个人一组地query，得到胜者组之后继续4个一组。
