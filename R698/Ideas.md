A. 可以发现，假设数组是a,b,c,d，最终结果是类似于k1*(a-b)+k2*(c-d)+k3*(a-c)+k4*(b-d)+...+x = K。所以相邻两数之间的delta的gcd应该整除abs(K-y)，其中y是数组中某元素。

   卡住了就打表找规律，可以发现就是数组排序之后相邻两数的delta们的gcd能整除abs(K-y)，y为某元素，其实取任意一个值就好。
   
B. 从后往前看，用线段树维护[L[i],R[i]]应该是0/1。

C. 最终答案一定是类似于一个锯齿形，以某个对称轴两侧来来回回。因此干脆极端一点，从某一点出发，每次找离它最远的点，距离越远角越小。这样还没解那就没解了。
   
