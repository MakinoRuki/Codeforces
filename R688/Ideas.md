B. 如果我们设b[i]=a[i]-a[1]，可以发现最终结果就是abs(b[i]-b[i-1])的和。而所以我们该某个数只会影响它左右两数的值。因此枚举b[i]改成b[i-1]/b[i+1]。

D. 最终结果必然应该是一堆10...0的连接。那么对于一段长为x的10...0可以直接dp出它的期望！！dp[i]=1/2(dp[i-1]+1)+1/2(dp[i-1]+1+dp[i])，可以推出dp[i]=2^(i+1)-2。

   然后贪心地去选power就可以了。
