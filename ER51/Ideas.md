A. 直接枚举改一个的话改哪个位置，改两个的话改哪两个位置。

B. 只有出现了1次或者大于2次的数字才有意义。出现了1次的必须有偶数个，首先分配；如果是奇数个再用大于2次的数字弥补，如果还是不行就无解了。

C. 直接dp。dp[i,j,k]表示前i列有j个连通分量，最后一列是状态k的方案数。
