D1. 首先看对于一个p[i]来说，满足条件的p-good串q中，所需要的以p[i]为mode的区间[l,r]最好是[i,i+1]或者[i-1,i]，否则如果更长的话，需要的1会更多。因此如果枚举了substring的开头位置，可以贪心地放q的每个位置。根据前面是1还是0，枚举以当前为结束位置，分情况讨论看1的个数。
