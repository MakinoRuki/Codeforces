B. 首先n是偶数才有解，然后找找规律。

C. 数组分成上升区间和下降区间，每段下降区间只能选一个。因此预处理[l,r]里有多少下降位置；把下降区间group之后，二分[l,r]中有多少段下降区间。

***D. 直接dfs图里degree>=4的顶点，并枚举第一条出边，找出环之后再检查另外2边。*** 
